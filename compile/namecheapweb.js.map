{
"version":3,
"file":"compile/namecheapweb.js",
"lineCount":658,
"mappings":"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",
"sources":["node_modules/util/index.js","node_modules/fs/index.js","node_modules/stream/index.js","node_modules/erotic/src/lib.js","node_modules/os/index.js","node_modules/@artdeco/clean-stack/src/index.js","node_modules/erotic/src/callback.js","node_modules/erotic/src/index.js","node_modules/catchment/src/lib/index.js","node_modules/catchment/src/index.js","node_modules/@wrote/read/src/index.js","node_modules/@wrote/write/src/index.js","node_modules/bosom/src/index.js","node_modules/https/index.js","node_modules/http/index.js","node_modules/url/index.js","node_modules/zlib/index.js","node_modules/@rqt/aqt/src/lib/make-request.js","node_modules/@rqt/aqt/src/lib/index.js","node_modules/@rqt/aqt/src/index.js","node_modules/rqt/src/lib/index.js","node_modules/rqt/src/lib/Session.js","node_modules/@rqt/ip/src/index.js","node_modules/assert/index.js","node_modules/readline/index.js","node_modules/promto/src/index.js","node_modules/reloquent/src/lib/ask.js","node_modules/reloquent/src/lib/ask-questions.js","node_modules/reloquent/src/index.js","node_modules/mismatch/src/index.js","node_modules/erte/src/index.js","src/lib/index.js","src/lib/Authenticator.js","src/lib/App.js","src/whois.js","src/index.js","src/coupon.js","src/depack.js"],
"sourcesContent":["export default util\nexport const {\n  TextDecoder,\n  TextEncoder,\n  callbackify,\n  debug,\n  debuglog,\n  deprecate,\n  error,\n  format,\n  getSystemErrorName,\n  inherits,\n  inspect,\n  isArray,\n  isBoolean,\n  isBuffer,\n  isDate,\n  isError,\n  isFunction,\n  isNull,\n  isNullOrUndefined,\n  isNumber,\n  isObject,\n  isPrimitive,\n  isRegExp,\n  isString,\n  isSymbol,\n  isUndefined,\n  log,\n  print,\n  promisify,\n  puts,\n} = util","export default fs\nexport const {\n  ReadStream,\n  Stats,\n  WriteStream,\n  access,\n  accessSync,\n  appendFile,\n  appendFileSync,\n  chmod,\n  chmodSync,\n  chown,\n  chownSync,\n  close,\n  closeSync,\n  constants,\n  copyFile,\n  copyFileSync,\n  createReadStream,\n  createWriteStream,\n  exists,\n  existsSync,\n  fchmod,\n  fchmodSync,\n  fchown,\n  fchownSync,\n  fdatasync,\n  fdatasyncSync,\n  fstat,\n  fstatSync,\n  fsync,\n  fsyncSync,\n  ftruncate,\n  ftruncateSync,\n  futimes,\n  futimesSync,\n  lchmod,\n  lchmodSync,\n  lchown,\n  lchownSync,\n  link,\n  linkSync,\n  lstat,\n  lstatSync,\n  mkdir,\n  mkdirSync,\n  mkdtemp,\n  mkdtempSync,\n  open,\n  openSync,\n  read,\n  readFile,\n  readFileSync,\n  readSync,\n  readdir,\n  readdirSync,\n  readlink,\n  readlinkSync,\n  realpath,\n  realpathSync,\n  rename,\n  renameSync,\n  rmdir,\n  rmdirSync,\n  stat,\n  statSync,\n  symlink,\n  symlinkSync,\n  truncate,\n  truncateSync,\n  unlink,\n  unlinkSync,\n  unwatchFile,\n  utimes,\n  utimesSync,\n  watch,\n  watchFile,\n  write,\n  writeFile,\n  writeFileSync,\n  writeSync,\n} = fs","export default stream\nexport const {\n  Duplex,\n  PassThrough,\n  Readable,\n  Stream,\n  Transform,\n  Writable,\n} = stream","const getLastItem = (array) => {\n  const item = array[array.length - 1]\n  return item\n}\nconst getItemsFrom = (array, from) => array.slice(from)\n\n/**\n * Get a segment of the stack string, defaults are from = 0 and oneLine = false.\n * @param {string} stack the stack string\n * @param {number} [from=0] index from which to slice from\n * @param {boolean} [oneLine=false] Whether just first line must be returned\n * @returns {string} A stack segment starting from the specified line.\n */\nexport const getStackSegment = (stack, from = 0, oneLine = false) => {\n  if (from === 0 && !oneLine) {\n    return stack\n  }\n  const splitStack = stack\n    .split('\\n', oneLine ? from + 1 : undefined)\n  if (oneLine) {\n    const line = getLastItem(splitStack)\n    return line\n  } else {\n    const items = getItemsFrom(splitStack, from)\n    return items.join('\\n')\n  }\n}\n\n/**\n * Get the stack trace part of when the erotic function was called. Disregards\n * first two lines.\n * @param {string} stack error's stack\n * @param {boolean} [transparent] trim the top line as well\n * @returns {string} A part of stack\n */\nexport const getEntryStack = (stack, transparent = false) => {\n  const stackSegment = getStackSegment(stack, 2 + (transparent ? 1 : 0))\n  return stackSegment\n}\n\n/**\n * Get stack line of where the callback was called.\n * @param {string} stack Stack string.\n * @returns {string} Stack line.\n */\nexport const getCalleeStackLine = (stack) => {\n  const calleeStackLine = getStackSegment(stack, 2, true)\n  return calleeStackLine\n}\n\nexport const getStackHeading = message => `Error: ${message}`\n\n/**\n * Extract caller from the function's `arguments`.\n * @param {Object} args arguments\n * @returns {!Function} The caller function from `arguments.callee.caller`.\n */\nexport const getCallerFromArguments = (args) => {\n  const { callee: { caller } } = args\n  return caller\n}","export default os\nexport const {\n  EOL,\n  arch,\n  constants,\n  cpus,\n  endianness,\n  freemem,\n  homedir,\n  hostname,\n  loadavg,\n  networkInterfaces,\n  platform,\n  release,\n  tmpdir,\n  totalmem,\n  type,\n  uptime,\n  userInfo,\n} = os","import { homedir } from 'os'\n\nconst extractPathRegex = /\\s+at.*(?:\\(|\\s)(.*)\\)?/\nconst pathRegex = /^(?:(?:(?:node|(?:internal\\/[\\w/]*|.*node_modules\\/(?:IGNORED_MODULES)\\/.*)?\\w+)\\.js:\\d+:\\d+)|native)/\n\nconst homeDir = homedir()\n\n/**\n * Remove internal Node.JS lines from the error stack traces.\n * @param {string} stack The error stack to update.\n * @param {!_cleanStack.Config} [options] Options for the program.\n * @param {boolean} [options.pretty=false] Replace the absolute path to the home directory with the `~`. Default `false`.\n * @param {!Array<string>} [options.ignoredModules=\"\uff3b'pirates'\uff3d\"] Which modules to ignore in the path. Default `\uff3b'pirates'\uff3d`.\n */\nconst cleanStack = (stack, options) => {\n  const {\n    pretty = false, ignoredModules = ['pirates'],\n  } = options || {}\n  const j = ignoredModules.join('|')\n  const re = new RegExp(pathRegex.source.replace('IGNORED_MODULES', j))\n\n  return stack.replace(/\\\\/g, '/')\n    .split('\\n')\n    .filter(x => {\n      const pathMatches = x.match(extractPathRegex)\n      if (pathMatches === null || !pathMatches[1]) {\n        return true\n      }\n\n      const match = pathMatches[1]\n\n      // Electron\n      if (match.includes('.app/Contents/Resources/electron.asar') ||\n        match.includes('.app/Contents/Resources/default_app.asar')) {\n        return false\n      }\n\n      return !re.test(match)\n    })\n    .filter(x => x.trim())\n    .map(x => {\n      if (pretty) {\n        return x.replace(extractPathRegex, (m, p1) => m.replace(p1, p1.replace(homeDir, '~')))\n      }\n\n      return x\n    })\n    .join('\\n')\n}\n\nexport default cleanStack\n\n/* documentary types/index.xml */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {_cleanStack.Config} Config Options for the program.\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {Object} _cleanStack.Config Options for the program.\n * @prop {boolean} [pretty=false] Replace the absolute path to the home directory with the `~`. Default `false`.\n * @prop {!Array<string>} [ignoredModules=\"\uff3b'pirates'\uff3d\"] Which modules to ignore in the path. Default `\uff3b'pirates'\uff3d`.\n */\n","import cleanStack from '@artdeco/clean-stack'\nimport {\n  getCallerFromArguments, getCalleeStackLine, getStackHeading,\n} from './lib'\n\n/**\n * Create a callback.\n * @param {!Function} entryCaller The function which was called at entry.\n * @param {string} entryStack The first line of the error stack to be returned\n * @param {boolean} [shadow=false] Print only entry stack.\n */\nexport function makeCallback(entryCaller, entryStack, shadow = false) {\n  /**\n   * This callback should be called when an asynchronous error occurred.\n   * @param {(string|Error)} messageOrError A message string or an _Error_ object at the point of actual error.\n   * @returns {Error} An error with the updated stack which includes the callee.\n   */\n  function cb(messageOrError) {\n    const caller = getCallerFromArguments(arguments)\n    const { stack: errorStack } = new Error()\n    const calleeStackLine = getCalleeStackLine(errorStack)\n    const isError = messageOrError instanceof Error\n    const message = isError ? messageOrError.message : messageOrError\n\n    const stackHeading = getStackHeading(message)\n    const entryHasCallee = caller !== null && entryCaller === caller\n    const stackMessage = [\n      stackHeading,\n      ...(entryHasCallee || shadow ? [entryStack] : [\n        calleeStackLine,\n        entryStack,\n      ]),\n    ].join('\\n')\n\n    const stack = cleanStack(stackMessage)\n    const properties = { message, stack }\n    const e = isError ? messageOrError : new Error()\n\n    return /** @type {Error} */ (Object.assign(/** @type {!Object} */ (e), properties))\n  }\n\n  return cb\n}","import {\n  getEntryStack, getCallerFromArguments,\n} from './lib'\nimport { makeCallback } from './callback'\n\n/**\n * Returns a function to create an error with a stack trace starting at the line in code when the call was made by the callee.\n * @param {boolean} [transparent] Pretend as if the call to the function lead to the error, without exposing any of the internal stack.\n */\nexport default function erotic(transparent) {\n  const { stack } = new Error()\n  const caller = getCallerFromArguments(arguments)\n  const entryStack = getEntryStack(stack, transparent)\n\n  return makeCallback(caller, entryStack, transparent)\n}","/**\n * Listens for the `error` event once so that when an error in _streamB_ is emitted, is is also emitted in the _streamA_.\n * @param {stream.Stream} streamA The stream that will emit an error once it's caught in the `streamB`.\n * @param {stream.Stream} streamB The stream from which the error originates.\n * @returns The stream the error is listened on, i.e., transparent to calling the `.once` method on that stream.\n */\nexport const pipeError = (streamA, streamB) => {\n  streamB\n    .once('error', e => {\n      streamA.emit('error', e)\n    })\n  return streamB\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('stream').Stream} stream.Stream\n */","import { Writable } from 'stream'\nimport erotic from 'erotic'\nimport cleanStack from '@artdeco/clean-stack'\nimport { pipeError } from './lib'\n\nfunction joinBufferData(array) {\n  return array.join('')\n}\n\n/**\n * A writable stream which collects incoming data into memory, and provides a promise to way for the stream to finish. The promise is resolved with joined chunks.\n */\nexport default class Catchment extends Writable {\n  /**\n   * Create a new catchment to pipe a readable stream into and collect all emitted data.\n   * @param {!_catchment.Options} [options] Options to pass to the `Writable` super constructor, and others shown below.\n   * @param {!stream.Readable} [options.rs] A readable stream to automatically pipe into the catchment. If an error occurs during reading of this stream, the catchment promise will be rejected with it.\n   * @param {boolean} [options.binary=false] Whether to return a raw buffer instead of a string. The string is created by joining all incoming chunks together with `.join('')` method. Default `false`.\n   * @example\n   *\n   * import { createReadStream } from 'fs'\n   * import Catchment from 'catchment'\n   *\n   * const rs = createReadStream('file.txt')\n   * const { promise } = new Catchment({ rs })\n   * const res = await promise\n   */\n  constructor(options) {\n    const {\n      binary = false, rs = null, ...opts\n    } = options || {}\n    /** @suppress {missingProperties} */\n    const { er = erotic(true), proxyError } = options || {}\n    const wrap = (_, e) => er(e)\n    super(/** @type {!stream.WritableOptions} */ (opts))\n    this._caughtData = []\n    this._promise = new Promise((r, j) => {\n      this.on('finish', () => {\n        let d\n        if (binary) {\n          d = Buffer.concat(this._caughtData)\n        } else {\n          d = joinBufferData(this._caughtData)\n        }\n        r(d)\n        this._caughtData = []\n      })\n      this.once('error', (e) => {\n        if (e.stack.indexOf('\\n') == -1) {\n          wrap`${e}`\n          j(e)\n        } else {\n          const stack = cleanStack(e.stack)\n          e.stack = stack\n          if (proxyError) wrap`${e}`\n          j(e)\n        }\n      })\n      if (rs) {\n        pipeError(this, rs).pipe(this)\n      }\n    })\n  }\n  _write(chunk, encoding, callback) {\n    this._caughtData.push(chunk)\n    callback()\n  }\n  /**\n   * A promise which will resolve will all data when the stream finishes.\n   * @type {Promise<string|Buffer>}\n   */\n  get promise() {\n    return this._promise\n  }\n}\n\n/**\n * Collect data into a catchment, and return results when the stream finishes.\n * @param {stream.Readable} readable A readable stream to collect all data from. If an error occurs during reading of this stream, the promise will be rejected with it.\n * @param {_catchment.CollectOptions} options Options when collecting data into a catchment. They can extend `Writable` options which will be passed to the `Catchment` constructor.\n * @param {boolean} [options.binary=false] Whether to return a raw buffer instead of a string. The string is created by joining all incoming chunks together with `.join('')` method. Default `false`.\n * @param {boolean} [options.proxyError=false] Sets whether an error emitted by the stream with have its stack start at the line where the `collect` was called rather than inside of the stream. In other words, hides the implementation of the stream. Default `false`.\n * @example\n *\n * import { collect } from 'catchment'\n * import { createReadStream } from 'fs'\n *\n * const rs = createReadStream(path)\n * await collect(rs, { proxyError: true })\n */\nexport const collect = async (readable, options = {}) => {\n  const { promise } = new Catchment({\n    rs: readable,\n    ...options,\n    er: erotic(true),\n  })\n  const res = await promise\n  return res\n}\n\n/* typal types/index.xml */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {_catchment.Options} Options Options to pass to the `Writable` super constructor, and others shown below.\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {Object} _catchment.Options Options to pass to the `Writable` super constructor, and others shown below.\n * @prop {!stream.Readable} [rs] A readable stream to automatically pipe into the catchment. If an error occurs during reading of this stream, the catchment promise will be rejected with it.\n * @prop {boolean} [binary=false] Whether to return a raw buffer instead of a string. The string is created by joining all incoming chunks together with `.join('')` method. Default `false`.\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('stream').Readable} stream.Readable\n */\n\n/* typal types/collect.xml */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {_catchment.CollectOptions} CollectOptions Options when collecting data into a catchment. They can extend `Writable` options which will be passed to the `Catchment` constructor.\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {Object} _catchment.CollectOptions Options when collecting data into a catchment. They can extend `Writable` options which will be passed to the `Catchment` constructor.\n * @prop {boolean} [binary=false] Whether to return a raw buffer instead of a string. The string is created by joining all incoming chunks together with `.join('')` method. Default `false`.\n * @prop {boolean} [proxyError=false] Sets whether an error emitted by the stream with have its stack start at the line where the `collect` was called rather than inside of the stream. In other words, hides the implementation of the stream. Default `false`.\n */\n","import { createReadStream } from 'fs'\nimport { collect } from 'catchment'\n\n/**\n * Read a file.\n * @param {string} path The path to the file to read.\n */\nexport default async function read(path) {\n  const rs = createReadStream(path)\n  /** @type {string} */\n  const res = await collect(rs)\n  return res\n}\n\n/**\n * Read a file as a buffer.\n * @param {string} path The path to the file to read.\n */\nexport async function readBuffer(path) {\n  const rs = createReadStream(path)\n  /** @type {Buffer} */\n  const res = await collect(rs, { binary: true })\n  return res\n}","import { createWriteStream } from 'fs'\nimport erotic from 'erotic'\n\n/**\n * Write a file to the filesystem.\n * @param {string} path The path of the file to write.\n * @param {string|Buffer} data The data to write.\n */\nexport default async function write(path, data) {\n  if (!path) throw new Error('No path is given.')\n  const er = erotic(true)\n  const ws = createWriteStream(path)\n  await new Promise((r, j) => {\n    ws\n      .on('error', (e) => {\n        const err = er(e)\n        j(err)\n      })\n      .on('close', r)\n      .end(data)\n  })\n}","import { debuglog } from 'util'\nimport read from '@wrote/read'\nimport write from '@wrote/write'\n\nconst LOG = debuglog('bosom')\n\nconst writeJSON = async (path, data, config) => {\n  const {\n    replacer = null,\n    space = null,\n  } = config\n  const json = JSON.stringify(data, replacer, space)\n  await write(path, json)\n}\n\n/**\n * Read or write a JSON file.\n * @param {string} path Path to the file to read.\n * @param {Object} [data] Data to write to the file (if JSON file exists, fields in it will be overridden).\n * @param {!_bosom.Options} [config] how to write data.\n */\nconst bosom = async (path, data, config = {}) => {\n  if (data) {\n    const res = await writeJSON(path, data, config)\n    return res\n  }\n  LOG('Reading %s', path)\n  const r = await read(path)\n  const res = JSON.parse(r)\n  return res\n}\n\nexport default bosom\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('..').Options} _bosom.Options\n */","export default https\nexport const {\n  Agent,\n  Server,\n  createServer,\n  get,\n  globalAgent,\n  request,\n} = https","export default http\nexport const {\n  Agent,\n  ClientRequest,\n  IncomingMessage,\n  METHODS,\n  OutgoingMessage,\n  STATUS_CODES,\n  Server,\n  ServerResponse,\n  createServer,\n  get,\n  globalAgent,\n  maxHeaderSize,\n  request,\n} = http","export default url\nexport const {\n  URL,\n  URLSearchParams,\n  Url,\n  domainToASCII,\n  domainToUnicode,\n  format,\n  parse,\n  resolve,\n} = url","export default zlib\nexport const {\n  Deflate,\n  DeflateRaw,\n  Gunzip,\n  Gzip,\n  Inflate,\n  InflateRaw,\n  Unzip,\n  Z_BEST_COMPRESSION,\n  Z_BEST_SPEED,\n  Z_BLOCK,\n  Z_BUF_ERROR,\n  Z_DATA_ERROR,\n  Z_DEFAULT_COMPRESSION,\n  Z_DEFAULT_STRATEGY,\n  Z_ERRNO,\n  Z_FILTERED,\n  Z_FINISH,\n  Z_FIXED,\n  Z_FULL_FLUSH,\n  Z_HUFFMAN_ONLY,\n  Z_MEM_ERROR,\n  Z_NEED_DICT,\n  Z_NO_COMPRESSION,\n  Z_NO_FLUSH,\n  Z_OK,\n  Z_PARTIAL_FLUSH,\n  Z_RLE,\n  Z_STREAM_END,\n  Z_STREAM_ERROR,\n  Z_SYNC_FLUSH,\n  Z_VERSION_ERROR,\n  constants,\n  createDeflate,\n  createDeflateRaw,\n  createGunzip,\n  createGzip,\n  createInflate,\n  createInflateRaw,\n  createUnzip,\n  deflate,\n  deflateRaw,\n  deflateRawSync,\n  deflateSync,\n  gunzip,\n  gunzipSync,\n  gzip,\n  gzipSync,\n  inflate,\n  inflateRaw,\n  inflateRawSync,\n  inflateSync,\n  unzip,\n  unzipSync,\n} = zlib","import erotic from 'erotic'\nimport { collect } from 'catchment'\nimport { createGunzip } from 'zlib'\nimport { request as Request } from 'http' // eslint-disable-line\n\n/**\n * @param {!http.IncomingMessage} res\n */\nexport const isMessageGzip = (res) => {\n  /**\n   * @suppress {checkTypes}\n   */\n  const { 'content-encoding': contentEncoding } = res.headers\n  return contentEncoding == 'gzip'\n}\n\n/**\n * @param {typeof Request} request The actual http or https request function.\n * @param {!http.RequestOptions} requestOptions\n * @param {!Object} [config] Config object.\n * @param {boolean} [config.justHeaders] only return headers as soon as available. false\n * @param {boolean} [config.binary] return binary\n * @param {boolean} [config.er] erotic callback\n */\nconst makeRequest = (request, requestOptions, config = {}) => {\n  const { justHeaders, binary, er = erotic(true) } = config\n  /** @type {!http.ClientRequest} */\n  let req\n\n  /** @type {!http.IncomingHttpHeaders} */\n  let headers\n  /** @type {{statusMessage: string, statusCode: number}} */\n  let m\n  /** @type {string|!Buffer} */\n  let body\n  let rawLength = 0\n  let byteLength = 0\n\n  const promise = new Promise((r, j) => {\n    req = request(requestOptions, async (res) => {\n      ({ headers } = res)\n      const { statusMessage, statusCode } = res\n      m = { statusMessage, statusCode }\n      if (justHeaders) {\n        res.destroy()\n        r()\n        return\n      }\n      const isGzip = isMessageGzip(res)\n\n      res.on('data', data => rawLength += data.byteLength )\n\n      const rs = isGzip\n        ? res.pipe(createGunzip())\n        : res\n\n      body = await collect(rs, { binary })\n      byteLength = body.length\n\n      r()\n    })\n      .on('error', (error) => {\n        const err = er(error)\n        j(err)\n      })\n      .on('timeout', () => {\n        req.abort()\n      })\n  }).then(() => {\n    const r = {\n      body,\n      headers,\n      ...m,\n      rawLength,\n      byteLength,\n      parsedBody: null,\n    }\n    return r\n  })\n  return { req, promise }\n}\n\nexport default makeRequest\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('http').IncomingMessage} http.IncomingMessage\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('http').ClientRequest} http.ClientRequest\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('http').IncomingHttpHeaders} http.IncomingHttpHeaders\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('http').RequestOptions} http.RequestOptions\n */","import erotic from 'erotic'\nimport makeRequest from './make-request'\n\nexport const getFormData = (form = {}) => {\n  const urlEncodedDataPairs = Object.keys(form).reduce((acc, key) => {\n    const v = form[key]\n    const p = `${encodeURIComponent(key)}=${encodeURIComponent(v)}`\n    return [...acc, p]\n  }, [])\n\n  const d = urlEncodedDataPairs.join('&').replace(/%20/g, '+')\n  return d\n}\n\nexport const getData = (type, data) => {\n  switch (type) {\n  case 'json':\n    data = JSON.stringify(data)\n    type = 'application/json'\n    break\n  case 'form':\n    data = getFormData(data)\n    type = 'application/x-www-form-urlencoded'\n    break\n  }\n  return {\n    data,\n    contentType: type,\n  }\n}\n\nexport const exec = async (request, requestOptions,\n  { data, justHeaders, binary, er = erotic(true) },\n) => {\n  const { req, promise } = makeRequest(request, requestOptions, {\n    justHeaders,\n    binary,\n    er,\n  })\n  req.end(data)\n  const res = await promise\n\n  const isJson = isHeadersJson(res.headers)\n\n  if (isJson && res.body) {\n    try {\n      res.parsedBody = JSON.parse(res.body)\n    } catch (e) {\n      const err = er(e)\n      err.response = res.body\n      throw err\n    }\n  }\n\n  return res\n}\n\n/**\n * Check if the returned content-type starts with application/json.\n * @param {!http.IncomingHttpHeaders} headers\n */\nconst isHeadersJson = (headers) => {\n  /**\n   * @suppress {checkTypes}\n   */\n  const { 'content-type': contentType = '' } = headers\n  return contentType.startsWith('application/json')\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('http').IncomingHttpHeaders} http.IncomingHttpHeaders\n */","import { request as https } from 'https'\nimport { request as http } from 'http'\nimport { debuglog } from 'util'\nimport erotic from 'erotic'\nimport { parse } from 'url'\nimport { getData, exec } from './lib'\n\nlet ua\ntry {\n  // require in index won't lead to --process_common_js_modules\n  const { 'version': version, 'name': name } = require('../package.json')\n  ua = name == '@rqt/aqt' ? `@rqt/aqt/${version}` : `@rqt/aqt via ${name}/${version}`\n} catch (err) {\n  ua = '@aqt/rqt'\n}\n\nconst LOG = debuglog('aqt')\n\n/**\n * Request a web page and return information including `headers`, `statusCode`, `statusMessage` along with the `body` (which is also parsed if JSON received).\n * @param {string} address The URL such as http://example.com/api.\n * @param {_rqt.AqtOptions} [options] Configuration for requests.\n */\nconst aqt = async (address, options = {}) => {\n  const {\n    data: d,\n    type = 'json',\n    headers: outgoingHeaders = {\n      'User-Agent': `Mozilla/5.0 (Node.JS) ${ua}`,\n    },\n    compress = true,\n    binary = false,\n    justHeaders = false,\n    method,\n    timeout,\n  } = options\n  const er = erotic(true)\n\n  const { hostname, protocol, port, path } = parse(address)\n  const isHttps = protocol === 'https:'\n  const request = isHttps ? https : http\n\n  const opts = {\n    hostname,\n    port,\n    path,\n    headers: {\n      ...outgoingHeaders,\n    },\n    timeout,\n    method,\n  }\n\n  let data\n  if (d) {\n    const _d = getData(type, d)\n      ; ({ data } = _d)\n    const { contentType } = _d\n\n    opts.method = method || 'POST'\n    if (!('Content-Type' in opts.headers)) {\n      opts.headers['Content-Type'] = contentType\n    }\n    if (!('Content-Length' in opts.headers)) {\n      opts.headers['Content-Length'] = Buffer.byteLength(data)\n    }\n  }\n  if (compress && !('Accept-Encoding' in opts.headers)) {\n    opts.headers['Accept-Encoding'] = 'gzip, deflate'\n  }\n\n  const {\n    body, headers, byteLength, statusCode, statusMessage, rawLength,\n    parsedBody,\n  } = await exec(request, opts, {\n    data,\n    justHeaders,\n    binary,\n    er,\n  })\n\n  LOG('%s %s B%s', address, byteLength, `${byteLength != rawLength ? ` (raw ${rawLength} B)` : ''}`)\n\n  /** @type {!_rqt.AqtReturn} */\n  const res = {\n    body: parsedBody ? parsedBody : body,\n    headers,\n    statusCode,\n    statusMessage,\n  }\n  return res\n}\n\nexport default aqt\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').AqtOptions} _rqt.AqtOptions\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').AqtReturn} _rqt.AqtReturn\n */","import aqt from '@rqt/aqt'\n\n/**\n * Request an HTTP page and return the response body as a string.\n * @param {string} address Url such as http://example.com/api.\n * @param {!_rqt.AqtOptions} [options] Options for requests.\n */\nexport const rqt = async (address, options = {}) => {\n  const { body } = await aqt(address, options)\n  /** @type {string} */\n  const r = body\n  return r\n}\n\n/**\n * Request an HTTP page and return the response body as an object.\n * @param {string} address Url such as http://example.com/api.\n * @param {!_rqt.AqtOptions} [options] Options for requests.\n */\nexport const jqt = async (address, options = {}) => {\n  const { body } = await aqt(address, options)\n  /** @type {*} */\n  const r = body\n  return r\n}\n\n/**\n * Request a page and return the body as a buffer.\n * @param {string} address The URL such as http://example.com/api.\n * @param {!_rqt.AqtOptions} [options] Options for requests.\n */\nexport const bqt = async (address, options) => {\n  const c = {\n    ...options,\n    binary: true,\n  }\n  const  { body } = await aqt(address, c)\n  /** @type {!Buffer} */\n  const r = body\n  return r\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('@rqt/aqt').AqtOptions} _rqt.AqtOptions\n */\n\n// /**\n//  * Request a page and return the body as a stream.\n//  * @param {string} address Url such as http://example.com/api\n//  * @param {Options} [config] Options for requests.\n//  * @param {*} [config.data] Optional data to send to the server with the request.\n//  * @param {'form'|'json'} [config.type=\"'json'\"] How to send data: `json` to serialise JSON data and `form` for url-encoded transmission with `json` mode by default. Default `'json'`.\n//  * @param {http.OutgoingHttpHeaders} [config.headers] Headers to use for the request.\n//  * @param {boolean} [config.compress=true] Add the `Accept-Encoding: gzip, deflate` header to indicate to the server that it can send a compressed response. Default `true`.\n//  * @param {string} [config.method] What HTTP method to use in making of the request. When no method is given and `data` is present, defaults to `POST`.\n//  * @param {number} [config.timeout] Timeout after which the request should cancel.\n//  */\n// export const srqt = async (address, config) => {\n//   throw new Error('not implemented')\n//   // config.binary = true\n//   // const  { body } = await arqt(address, config)\n//   // return body\n// }\n","import aqt from '@rqt/aqt'\n\n/**\n * An instance of a session class can maintain cookies.\n * @implements {_rqt.Session}\n */\nexport default class Session {\n  /**\n   * Create a new session that can be used to make requests in sequence, and remember cookies.\n   * @param {!_rqt.SessionOptions} options Options for a session.\n   */\n  constructor(options = {}) {\n    const {\n      host,\n      headers = {},\n    } = options\n\n    this.host = host\n    this.headers = headers\n    this.cookies = {}\n  }\n  /**\n   * Make a request and return the body.\n   * @param {string} location The URL to which to make a request.\n   * @param {!_rqt.AqtOptions} options Options for requests.\n   */\n  async rqt(location, options = {}) {\n    const { body } = await this._request(location, options)\n    /** @type {string} */\n    const r = body\n    return r\n  }\n  /**\n   * Make a request and return the body as buffer.\n   * @param {string} location The URL to which to make a request.\n   * @param {!_rqt.AqtOptions} options Options for requests.\n   */\n  async bqt(location, options = {}) {\n    const { body } = await this._request(location, {\n      ...options,\n      binary: true,\n    })\n    /** @type {!Buffer} */\n    const r = body\n    return r\n  }\n  /**\n   * Make a request and return the parsed JSON body as an object.\n   * @param {string} location The URL to which to make a request.\n   * @param {!_rqt.AqtOptions} options Options for requests.\n   */\n  async jqt(location, options = {}) {\n    const { body } = await this._request(location, options)\n    /** @type {!Object} */\n    const r = body\n    return r\n  }\n  getFullUrl(location) {\n    if (this.host) {\n      return `${this.host}${location}`\n    }\n    return location\n  }\n  /**\n   * Make a request and return the body, headers and status.\n   * @param {string} location The URL to which to make a request.\n   * @param {!_rqt.AqtOptions} options Configuration for requests.\n   */\n  async aqt(location, options = {}) {\n    const res = await this._request(location, options)\n    return res\n  }\n  async _request(location, options = {}) {\n    const loc = this.getFullUrl(location)\n    const opts = getAllOptions(this.headers, options, this.Cookie)\n    const res = await aqt(loc, opts)\n    const { headers } = res\n    this.cookies = updateCookies(this.cookies, headers)\n    return res\n  }\n  get Cookie() {\n    return getCookieHeader(this.cookies)\n  }\n}\n\nconst getAllOptions = (sessionHeaders, options, Cookie) => {\n  const {\n    headers = {},\n    ...opts\n  } = options\n  return {\n    ...opts,\n    headers: {\n      ...sessionHeaders,\n      ...headers,\n      Cookie,\n    },\n  }\n}\n\nconst getCookieHeader = (cookies) => {\n  const r = Object.keys(cookies).reduce((acc, key) => {\n    const val = cookies[key]\n    const s = `${key}=${val}`\n    return [...acc, s]\n  }, [])\n  return r.join('; ')\n}\n\n/**\n * @param {!Object} cookies\n * @param {!http.IncomingHttpHeaders} headers\n */\nconst updateCookies = (cookies, headers) => {\n  const newCookies = extractCookies(headers)\n  const r = {\n    ...cookies,\n    ...newCookies,\n  }\n  const res = Object.keys(r).reduce((acc, current) => {\n    const val = r[current]\n    if (!val) return acc\n    return {\n      ...acc,\n      [current]: val,\n    }\n  }, {})\n  return res\n}\n\nconst extractCookie = c => {\n  const res = /^(.+?)=(.*?);/.exec(c)\n  if (!res) throw new Error(`Could not extract a cookie from ${c}`)\n  const [, name, value] = res\n  return {\n    [name]: value,\n  }\n}\nconst extractCookies = ({ 'set-cookie': setCookie = [] } = {}) => {\n  return setCookie.reduce((acc, current) => {\n    const c = extractCookie(current)\n    return {\n      ...acc,\n      ...c,\n    }\n  }, {})\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../..').SessionOptions} _rqt.SessionOptions\n */\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('@rqt/aqt').AqtOptions} _rqt.AqtOptions\n */","import rqt from 'rqt'\n\n/**\n * Returns a public IP address of the host.\n * @param {!_rqt.IpOptions} options Options for the request.\n */\nexport default async function ip(options = {}) {\n  const {\n    host = 'https://api.ipify.org',\n  } = options\n  const res = await rqt(host)\n  return res\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').IpOptions} _rqt.IpOptions\n */","export default assert\nexport const {\n  AssertionError,\n  deepEqual,\n  deepStrictEqual,\n  doesNotThrow,\n  equal,\n  fail,\n  ifError,\n  notDeepEqual,\n  notDeepStrictEqual,\n  notEqual,\n  notStrictEqual,\n  ok,\n  strictEqual,\n  throws,\n} = assert","export default readline\nexport const {\n  Interface,\n  clearLine,\n  clearScreenDown,\n  createInterface,\n  cursorTo,\n  emitKeypressEvents,\n  moveCursor,\n} = readline","function createTimeout(desc, timeout, cb) {\n  return setTimeout(() => {\n    const message = `${desc ? desc : 'Promise'} has timed out after ${timeout}ms`\n    const err = new Error(message)\n    err.stack = `Error: ${err.message}`\n    cb(err)\n  }, timeout)\n}\n\nfunction makeTimeoutPromise(desc, timeout) {\n  let to\n  const promise = new Promise((_, reject) => {\n    to = createTimeout(desc, timeout, reject)\n  })\n  return { timeout: to, promise }\n}\n\n/**\n * Create a promise which will be rejected after a timeout.\n * @param {!Promise} promise A promise to race with\n * @param {number} timeout Timeout in ms after which to reject\n * @param {string} [desc] Description of a promise to be printed in error\n * @returns {!Promise} A promise with a timeout\n */\nexport default async function createPromiseWithTimeout(promise, timeout, desc) {\n  if (!(promise instanceof Promise))\n    throw new Error('Promise expected')\n  if (!timeout)\n    throw new Error('Timeout must be a number')\n  if (timeout < 0)\n    throw new Error('Timeout cannot be negative')\n\n  const { promise: toPromise, timeout: to } = makeTimeoutPromise(desc, timeout)\n  try {\n    return await Promise.race([\n      promise,\n      toPromise,\n    ])\n  } finally {\n    clearTimeout(to)\n  }\n}","import { createInterface } from 'readline'\nimport promto from 'promto'\n\n/**\n * Ask user a question and wait for an answer.\n * @param {string} question Question to present to the user.\n * @param {{ password: (boolean| undefined), timeout: (number|undefined), input: (stream.Readable|NodeJS.ReadStream|undefined), output: (stream.Writable|NodeJS.WriteStream|undefined) }} options The options.\n */\nexport default function ask(question, options = {}) {\n  const {\n    timeout,\n    password = false,\n    output = process.stdout,\n    input = process.stdin,\n    ...rest\n  } = options\n  const rl = createInterface(/** @type {!readline.ReadLineOptions} */ ({\n    input,\n    output,\n    ...rest,\n  }))\n  if (password) {\n    /**\n     * Undocumented API.\n     * @type {!NodeJS.WriteStream}\n     * @suppress {checkTypes}\n     */\n    const o = rl['output']\n    /**\n     * Undocumented API.\n     * @suppress {checkTypes}\n     */\n    rl['_writeToOutput'] = (s) => {\n      if (['\\r\\n', '\\n', '\\r'].includes(s))\n        return o.write(s)\n\n      const v = s.split(question)\n      if (v.length == '2') {\n        o.write(question)\n        o.write('*'.repeat(v[1].length))\n      } else {\n        o.write('*')\n      }\n    }\n  }\n  const p = new Promise(rl.question.bind(rl, question))\n\n  const promise = timeout\n    ? promto(p, timeout, `reloquent: ${question}`)\n    : p\n  /**\n   * @suppress {checkTypes}\n   */\n  rl['promise'] = tryPromise(promise, rl)\n  return rl\n}\n\nconst tryPromise = async (promise, rl) => {\n  try {\n    const res = await promise\n    return res\n  } finally {\n    rl.close()\n  }\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('stream').Readable} stream.Readable\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('stream').Writable} stream.Writable\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('readline').ReadLineOptions} readline.ReadLineOptions\n */","import ask from './ask'\n\n/**\n * Color foreground with grey\n * @param {string} t\n */\nexport function c(t) {\n  return `\\x1b[90m${t}\\x1b[0m`\n}\n\n/**\n * Ask a set of questions.\n * @param {_reloquent.Questions} questions An object with questions as values\n * @param {number} [timeout] How long to wait before answer\n * @returns {!Promise<!Object<string, string>>} A promise where keys from the questions object are validated, assigned default values if required, and populated with answers. Validation function should either throw or return nothing, or throw an error.\n */\nexport default async function askQuestions(questions, timeout) {\n  if (typeof questions != 'object')\n    throw new Error('Please give an object with questions')\n\n  const keys = Object.keys(/** @type {!Object} */ (questions))\n  const res = await keys.reduce(async (acc, key) => {\n    const accRes = await acc\n\n    const value = questions[key]\n    /** @type {!_reloquent.Question} */\n    let question\n    switch (typeof value) {\n    case 'object':\n      question = /** @type {!_reloquent.Question} */ ({ ...value })\n      break\n    case 'string':\n      question = { text: value }\n      break\n    default:\n      throw new Error('A question must be a string or an object.')\n    }\n\n    question.text = `${question.text}${question.text.endsWith('?') ? '' : ':'} `\n\n    let defaultValue\n    let gotDefaultValue\n    if (question.defaultValue) {\n      defaultValue = question.defaultValue\n    }\n    if (question.getDefault) {\n      gotDefaultValue = await question.getDefault()\n    }\n\n    let dv = defaultValue || ''\n    if (defaultValue && gotDefaultValue && defaultValue != gotDefaultValue) {\n      dv = c(defaultValue)\n    } else if (defaultValue && defaultValue == gotDefaultValue) {\n      dv = ''\n    }\n    let gtd = gotDefaultValue || ''\n    const text = `${question.text}${dv ? `[${dv}] ` : ''}${gtd ? `[${gtd}] ` : ''}`\n    const { 'promise': promise } = ask(text, {\n      timeout,\n      password: question.password,\n    })\n\n    const a = await promise\n    let answer = a || gotDefaultValue || question.defaultValue\n\n    if (typeof question.validation == 'function') {\n      question.validation(answer)\n    }\n    if (typeof question.postProcess == 'function') {\n      answer = await question.postProcess(answer)\n    }\n    return {\n      ...accRes,\n      [key]: answer,\n    }\n  }, {})\n\n  return res\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../../types').Questions} _reloquent.Questions\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../../types').Question} _reloquent.Question\n */","import askQuestions from './lib/ask-questions'\n\n/**\n * Ask user questions via the CLI. Returns an object with keys as questions' texts and values as answers.\n * @param {_reloquent.Questions} questions A set of questions.\n * @param {number} [timeout] How long to wait before rejecting the promise. Waits forever by default.\n */\nexport default async function reloquent(questions, timeout) {\n  const res = await askQuestions(questions, timeout)\n  return res\n}\n\n/**\n * Ask user a question via the CLI. Returns the answer to the question.\n * @param {string|!_reloquent.Question} question A question to present to the user.\n * @param {number} [timeout] How long to wait before rejecting the promise. Waits forever by default.\n */\nexport async function askSingle(question, timeout) {\n  const { question: answer } = await askQuestions({ question }, timeout)\n  return answer\n}\n\n/**\n * Ask a yes/no question. Returns `true` when answer was `y` and `false` otherwise.\n * @param {string} question The question, such as \"Add default options\", or \"Continue to delete?\".\n * @param {_reloquent.ConfirmOptions} [options] Options for the confirmation question.\n * @param {boolean} [options.defaultYes=true] Whether the default value is _yes_. Default `true`.\n * @param {number} [options.timeout] How long to wait before rejecting the promise. Waits forever by default.\n */\nexport async function confirm(question, options = {}) {\n  const {\n    defaultYes = true,\n    timeout,\n  } = options\n  const hasQ = question.endsWith('?')\n  const text = `${hasQ ? question.replace(/\\?$/, '') : question} (y/n)${hasQ ? '?' : ''}`\n  const { question: answer } = await askQuestions({\n    question: {\n      text,\n      defaultValue: defaultYes ? 'y' : 'n',\n    },\n  }, timeout)\n  return answer == 'y'\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').ConfirmOptions} _reloquent.ConfirmOptions\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Question} _reloquent.Question\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Questions} _reloquent.Questions\n */\n","/**\n * Returns an array of captured groups of a regular expression as objects. Does not modify the `lastIndex` property of the regex.\n * @param {RegExp} re The regular expression used for matching.\n * @param {string} string String to find matches in.\n * @param {Array<string>} keys Keys to use to create an captured group object.\n * @param {boolean} addPositions Whether to include positions in the return.\n * @example\n *\n```js\nconst re = /(test) inside of a (string)(\\d)?/ig\nconst s = 'Test inside of a STRING1. TEST inside of a string.'\nconst keys = ['test', 'string', 'number']\nconst res = mismatch(re, s, keys)\n\n// result:\n[\n {\n   test: 'Test',\n   string: 'STRING',\n   number: '1',\n },\n {\n   test: 'TEST',\n   string: 'string',\n },\n]\n```\n */\nexport default function mismatch(re, string, keys, addPositions = false) {\n  /** @type {!Array<!Object<string, string>>} */\n  const m = []\n  string.replace(re, (match, ...args) => {\n    // remove position and input\n    const position = args[args.length - 2]\n    const start = addPositions ? { position } : {}\n    const p = args.slice(0, args.length - 2)\n    const o = p.reduce((acc, capturedGroup, i) => {\n      const key = keys[i]\n      if (!(key && capturedGroup !== undefined)) return acc\n      acc[key] = capturedGroup\n      return acc\n    }, start)\n    m.push(o)\n  })\n  return m\n}","import Diff from './diff'\n\nconst colors = {\n  'black': 30,\n  'red': 31,\n  'green': 32,\n  'yellow': 33,\n  'blue': 34,\n  'magenta': 35,\n  'cyan': 36,\n  'white': 37,\n  'grey': 90,\n}\n\nconst backgroundColors = {\n  'black': 40,\n  'red': 41,\n  'green': 42,\n  'yellow': 43,\n  'blue': 44,\n  'magenta': 45,\n  'cyan': 46,\n  'white': 47,\n}\n\n/**\n * Color the foreground.\n * @param {string} string The string to color.\n * @param {_erte.Color} color The color to apply.\n */\nexport function c(string, color) {\n  const cc = colors[color]\n  if (!cc) return string\n  return `\\x1b[${cc}m${string}\\x1b[0m`\n}\n\n/**\n * Color the background.\n * @param {string} string The string to color.\n * @param {_erte.Color} color The color to apply.\n */\nexport function b(string, color) {\n  const cc = backgroundColors[color]\n  if (!cc) return string\n  return `\\x1b[${cc}m${string}\\x1b[0m`\n}\n\n/**\n * Compares two strings and outputs a coloured version where strings don't match.\n * @param {string} source A string to compare.\n * @param {string} target Target string to compare with.\n * @returns {string} A string which uses shell-codes to highligh differences.\n */\nexport default function erte(source, target) {\n  const diff = new Diff()\n  const d = diff.diff(source, target)\n  const m = d.map(({ added, removed, value }) => {\n    let p\n    const s = value.split(' ')\n    if (added) {\n      p = s.map(t => {\n        return t.replace(/\\n$/mg, '\u23ce\\n')\n      }).map(t => c(t, 'green')).join(b(' ', 'green'))\n    } else if (removed) {\n      p = s.map(t => {\n        return t.replace(/\\n$/mg, '\u23ce\\n')\n      }).map(t => c(t, 'red')).join(b(' ', 'red'))\n    } else {\n      p = c(value, 'grey')\n    }\n    return p\n  })\n  const s = m.join('')\n  return s\n}\n\n/* documentary types/index.xml */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {_erte.Color} Color The color to apply.\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {('black'|'red'|'green'|'yellow'|'blue'|'magenta'|'cyan'|'white'|'grey')} _erte.Color The color to apply.\n */\n","import mismatch from 'mismatch'\nimport { askSingle } from 'reloquent'\nimport { c } from 'erte'\n\nexport const extractOptions = (body) => {\n  const res = mismatch(\n    /<option value=\"(\\d+-phone)\">(.+?(\\d\\d\\d))<\\/option>/g,\n    body,\n    ['value', 'title', 'last']\n  )\n  return res\n}\n\nexport const extractFormState = (body) => {\n  const res = mismatch(\n    /<input type=\"hidden\" name=\"(.+?)\" id=\"__\\w+\" value=\"(.*?)\" \\/>/g,\n    body,\n    ['name', 'value'],\n  )\n  const r = res.reduce((acc, { name, value }) => {\n    return {\n      ...acc,\n      [name]: value,\n    }\n  }, {})\n  return r\n}\n\nconst mapPhoneOptions = o => {\n  const r = /(.+?)(\\d\\d\\d)$/.exec(o)\n  if (!r) return o\n  const [, g, n] = r\n  const gr = c(g, 'grey')\n  const co = `${gr}${n}`\n  return co\n}\n\nconst getColorOptions = (options) => {\n  const n = options\n    .map(({ 'title': title }) => ` ${title}`)\n    .map(mapPhoneOptions)\n    .join('\\n')\n  return n\n}\n\nexport const askForNumber = async (options, phone) => {\n  const s = getColorOptions(options)\n  const text = `Which phone number to use for 2 factor auth\n${s}\nenter last 3 digits`\n\n  const answer = await askSingle({\n    text,\n    async getDefault() {\n      return phone || options[0]['last']\n    },\n    validation(a) {\n      const p = options.some(({ 'last': last }) => last == a)\n      if (!p) {\n        throw new Error('Unknown number entered.')\n      }\n    },\n  })\n\n  const { value } = options.find(({ 'last': last }) => last == answer)\n  return value\n}\n\n/**\n * @param {string} body\n */\nexport const extractXsrf = (body) => {\n  const re = /<input type=\"hidden\" id=\"x-ncpl-csrfvalue\" value=\"(.+?)\"/\n  const res = re.exec(body)\n  if (!res) throw new Error('Could not find the x-ncpl-csrfvalue token on the page.')\n  const [, token] = res\n  return token\n}\n\n/**\n * Single level deep equal.\n */\nexport const deepEqual = (o1, o2) => {\n  const r = Object.keys(o1).reduce((acc, key) => {\n    const val = o1[key]\n    const val2 = o2[key]\n    if (!(key in o2)) {\n      const k = `-  ${key}`\n      const s = c(`${k}: ${val}`, 'red')\n      return [...acc, s]\n    } else if (val !== val2) {\n      const k = `-  ${key}`\n      const k2 = `+  ${key}`\n      const s = c(`${k}: ${val}`, 'red')\n      const s2 = c(`${k2}: ${val2}`, 'green')\n      return [...acc, s, s2]\n    }\n    return acc\n  }, [])\n  const r2 = Object.keys(o2).reduce((acc, key) => {\n    const val = o1[key]\n    if (!(key in o1)) {\n      const k = `+  ${key}`\n      const s = c(`${k}: ${val}`, 'green')\n      return [...acc, s]\n    }\n    return acc\n  }, r)\n  if (r2.length) {\n    const m = `\n{\n${r2.join('\\n')}\n}`.trim()\n    throw new Error(m)\n  }\n}","import { debuglog } from 'util'\nimport { Session } from 'rqt'\nimport { ok } from 'assert'\nimport { askSingle } from 'reloquent'\nimport {\n  extractOptions, extractFormState, askForNumber,\n} from './'\n\nconst LOG = debuglog('@rqt/namecheap-web')\n\n/**\n * A class used for 2-factor authentication.\n */\nexport default class Authenticator {\n  constructor({\n    username,\n    password,\n    phone,\n    host,\n    userAgent,\n  } = {}) {\n    const session = new Session({\n      host,\n      headers: {\n        'User-Agent': userAgent,\n      },\n    })\n    this._username = username\n    this._password = password\n    this._session = session\n    this._phone = phone\n    /** @type {?string} */\n    this.SessionKey = null\n  }\n  async obtainSession() {\n    const u = '/cart/ajax/SessionHandler.ashx'\n    const { 'SessionKey': SessionKey } = await this.session.jqt(u)\n    if (!SessionKey)\n      throw new Error(`Could not acquire the session key from ${this.session.host}${u}.`)\n    LOG('Obtained a session key %s', SessionKey)\n    this.SessionKey = SessionKey\n  }\n  async signIn() {\n    const {\n      body,\n      statusCode,\n      headers: { location },\n    } = await this.session.aqt(Authenticator.LOGIN_URL, {\n      data: {\n        'hidden_LoginPassword': '',\n        'LoginUserName': this._username,\n        'LoginPassword': this._password,\n        'sessionEncryptValue': this.SessionKey,\n      },\n      type: 'form',\n    })\n    if (statusCode == 200) {\n      this.checkValidationError(body) // throws with validation message\n    } else if (statusCode == 301) {\n      return this.session.cookies\n    }\n    if (statusCode == 302 && location.includes(Authenticator.SECOND_AUTH_URL))\n      await this.secondAuth()\n    else throw new Error(`Unknown result (status code ${statusCode})`)\n    const { cookies } = this.session\n    return cookies\n  }\n  static get LOGIN_URL() {\n    return '/myaccount/login-signup.aspx'\n  }\n  static get SECOND_AUTH_URL() {\n    return '/myaccount/twofa/secondauth.aspx'\n  }\n  async secondAuth() {\n    const body = await this.session.rqt(Authenticator.SECOND_AUTH_URL)\n\n    ok(\n      /Select Phone Contact Number/.test(body),\n      'Could not find the \"Select Phone\" section.',\n    )\n\n    const options = extractOptions(body)\n    ok(options.length, 'Could not find any numbers.')\n\n    const value = await askForNumber(options, this._phone)\n\n    const fs = extractFormState(body)\n    const data = {\n      ...fs,\n      'ctl00$ctl00$ctl00$ctl00$base_content$web_base_content$home_content$page_content_left$CntrlAuthorization$ddlAuthorizeList': value,\n      'ctl00$ctl00$ctl00$ctl00$base_content$web_base_content$home_content$page_content_left$CntrlAuthorization$btnSendVerification': 'Proceed with Login',\n    }\n    const body2 = await this.session.rqt(Authenticator.SECOND_AUTH_URL, {\n      data,\n      type: 'form',\n    })\n\n    if (/You have reached the limit on the number.+/m.test(body2))\n      throw new Error(body2.match(/You have reached the limit on the number.+/m)[0])\n\n    ok(\n      /We sent a message with the verification code/.test(body2),\n      'Could not find the code entry section.',\n    )\n\n    await this.submitCode(body2)\n  }\n  async submitCode(body) {\n    const [, b] = /Your 6-digit code begins with (\\d)./.exec(body) || []\n    if (!b) throw new Error('Could not send the code.')\n\n    const code = await askSingle({\n      text: `Security code (begins with ${b})`,\n    })\n    const fs = extractFormState(body)\n    const data = {\n      ...fs,\n      'ctl00$ctl00$ctl00$ctl00$base_content$web_base_content$home_content$page_content_left$CntrlAuthorization$txtAuthVerification': code,\n      'ctl00$ctl00$ctl00$ctl00$base_content$web_base_content$home_content$page_content_left$CntrlAuthorization$btnVerify': 'Submit Security Code',\n    }\n\n    const {\n      body: body2,\n      headers: { location: location2 },\n    } = await this.session.aqt(Authenticator.SECOND_AUTH_URL, {\n      data,\n      type: 'form',\n    })\n    if (/Oops, you entered an invalid code.+/m.test(body2)) {\n      console.log('Incorrect code, try again.')\n      const res = await this.submitCode(body2)\n      return res\n    }\n    ok(/Object moved/.test(body2), 'Expected to have been redirected after sign-in.')\n    return location2\n  }\n  /**\n   * @param {string} body\n   */\n  checkValidationError(body) {\n    const validationErrorRe = /<strong class=\"title\">Validation Error<\\/strong>\\s+<div>(.+?)<\\/div>/\n    const [, err] = validationErrorRe.exec(body) || []\n    if (err) throw new Error(err.replace(/(<([^>]+)>)/ig, ''))\n  }\n  get session() {\n    return this._session\n  }\n}","import { Session } from 'rqt'\nimport { extractXsrf } from './'\n\n/** @param {_namecheap.AjaxResult} res */\nconst checkError = (res) => {\n  if (res.__isError) {\n    const err = new Error(res.Message)\n    Object.assign(err, res)\n    throw err\n  }\n  if (!res.Success) {\n    const t = res.Errors.map(({ Message }) => Message).join(', ')\n    const r = new Error(t)\n    r.__type = res.__type\n    throw r\n  }\n}\n\nexport default class App {\n  constructor({\n    cookies,\n    host,\n    userAgent,\n    password, // needed for confirmations\n  }) {\n    const session = new Session({\n      host,\n      headers: {\n        'User-Agent': userAgent,\n      },\n    })\n    session.cookies = cookies\n    this._session = session\n    this.password = password\n  }\n  get session() {\n    return this._session\n  }\n  /**\n   * @param {string} body\n   */\n  getToken(body) {\n    const token = extractXsrf(body)\n    return token\n  }\n  async test() {\n    const { statusCode } = await this.session.aqt('/', {\n      justHeaders: true,\n    })\n    const res = statusCode == 200\n    return res\n  }\n  /**\n   * @param {string} ipAddress\n   * @param {string} [name]\n   */\n  async whitelistIP(\n    ipAddress,\n    name = `@rqt ${new Date().toLocaleString()}`.replace(/:/g, '-'),\n  ) {\n    const token = await this.requestToken(App.WHITELISTED_UPS)\n    const apiUrl = App.getApiUrl('AddIpAddress')\n    const data = {\n      'accountPassword': this.password,\n      'ipAddress': ipAddress,\n      'name': name,\n    }\n    await this.request(apiUrl, token, data)\n  }\n  static get WHITELISTED_UPS() {\n    return '/settings/tools/apiaccess/whitelisted-ips'\n  }\n  /**\n   * @param {string} name\n   */\n  async removeWhitelistedIP(name) {\n    const token = await this.requestToken(App.WHITELISTED_UPS)\n    const apiUrl = App.getApiUrl('RemoveIpAddresses')\n    await this.request(apiUrl, token, {\n      'accountPassword': this.password,\n      'names': [name],\n    })\n  }\n  static getApiUrl(page) {\n    return `/api/v1/ncpl/apiaccess/ui/${page}`\n  }\n  /**\n   * @param {string} url\n   */\n  async requestToken(url) {\n    const body = await this.session.rqt(url)\n    const token = this.getToken(body)\n    return token\n  }\n  async getWhitelistedIPList() {\n    const token = await this.requestToken(App.WHITELISTED_UPS)\n    const apiUrl = App.getApiUrl('GetWhitelistedIpAddresses')\n    const { 'IpAddresses': IpAddresses } = await this.request(apiUrl, token)\n    const res = IpAddresses\n      .map(({ 'Name': name, 'IpAddress': ip, 'ModifyDate': date }) => ({\n        'Name': name,\n        'IpAddress': ip,\n        'ModifyDate': new Date(`${date}Z`),\n      }))\n    return res\n  }\n  /**\n   * @param {string} url\n   * @param {string} token\n   * @param {!Object} [data]\n   */\n  async request(url, token, data) {\n    const res = /** @type {_namecheap.AjaxResult} */ (await this.session.jqt(url, {\n      data,\n      headers: {\n        'x-ncpl-rcsrf': token,\n      },\n    }))\n    checkError(res)\n    const { 'Data': d } = res\n    return d\n  }\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../../types').AjaxResult} _namecheap.AjaxResult\n */","import { Session } from 'rqt'\n\n/**\n * @param {string} domain\n * @param {string} USER_AGENT\n */\nconst whois = async (domain, USER_AGENT) => {\n  const s = new Session({\n    host: 'https://www.namecheap.com/domains/whois',\n    headers: {\n      'User-Agent': USER_AGENT,\n    },\n  })\n  const res = await s.rqt(`/results.aspx?domain=${domain}`)\n  const re = /var url = \"\\/domains\\/whois\\/whois-ajax\\.aspx\\?(.+?)\"/\n  const reRes = re.exec(res)\n  if (!reRes) throw new Error('Could not find the AJAX request URL.')\n  const [, params] = reRes\n  const res2 = await s.rqt(`/whois-ajax.aspx?${params}`)\n  const re2 = /<pre id=\".+?_whoisResultText\" class=\"wrapped whois\">([\\s\\S]+)<\\/pre>/\n  const re2Res = re2.exec(res2)\n  if (!re2Res) throw new Error('Could not extract data.')\n  const [, w] = re2Res\n  return w\n}\n\nexport default whois\n","import { debuglog } from 'util'\nimport bosom from 'bosom'\nimport getIp from '@rqt/ip'\nimport Authenticator from './lib/Authenticator'\nimport App from './lib/App'\nimport { deepEqual } from './lib'\nimport whois from './whois'\nimport coupon from './coupon'\n\nconst LOG = debuglog('@rqt/namecheap-web')\n\n/**\n * @param {boolean} [S]\n */\nconst getHost = (S = false) => {\n  return `https://www.${S ? 'sandbox.' : ''}namecheap.com`\n}\n/**\n * @param {boolean} [S]\n */\nconst getApHost = (S = false) => {\n  return `https://ap.www.${S ? 'sandbox.' : ''}namecheap.com`\n}\n\nconst USER_AGENT = 'Mozilla/5.0 (Node.js; @rqt/namecheap-web) https://github.com/rqt/namecheap-web'\n\n/**\n * An API to namecheap.com via the web interface, with an ability to log in using 2-factor Auth and check Whois.\n * @implements {_namecheap.NamecheapWeb}\n */\nexport default class NamecheapWeb {\n  /**\n   * Create an instance of a new client.\n   * @param {!_namecheap.Options} options Options for the web client.\n   * @param {boolean} [options.sandbox=false] Whether to use the `sandbox` version. Default `false`.\n   * @param {boolean} [options.readSession=false] Read and store the cookies for the session from the local file. Default `false`.\n   * @param {string} [options.sessionFile=\".namecheap-web.json\"] If reading session, indicates the file where to store cookies. Default `.namecheap-web.json`.\n   */\n  constructor(options = {}) {\n    const {\n      sandbox,\n      readSession,\n      sessionFile = '.namecheap-web.json',\n    } = options\n    this.settings = {\n      sandbox,\n      readSession,\n      sessionFile,\n    }\n    /** @type {App} */\n    this._app = null\n  }\n\n  /**\n   * Get the public IP address using https://api.ipify.org.\n   * @nocollapse\n   * @suppress {checkTypes}\n   */\n  static async 'LOOKUP_IP'() {\n    const res = await getIp()\n    return res\n  }\n  /**\n   * Return the whois information about the domain.\n   * @nocollapse\n   * @suppress {checkTypes}\n   * @param {string} domain\n   */\n  static async 'WHOIS'(domain) {\n    return whois(domain, USER_AGENT)\n  }\n  /**\n   *\n   * Return the coupon from the https://www.namecheap.com/promos/coupons/ page.\n   * @nocollapse\n   * @suppress {checkTypes}\n   */\n  static async 'COUPON'() {\n    return coupon(USER_AGENT)\n  }\n  /**\n   * Return the coupon from the https://www.sandbox.namecheap.com/promos/coupons/ page.\n   * @nocollapse\n   * @suppress {checkTypes}\n   */\n  static async 'SANDBOX_COUPON'() {\n    return coupon(USER_AGENT, true)\n  }\n\n  /**\n   * @param {string} username\n   * @param {string} password\n   * @param {string} [phone]\n   * @param {boolean} [force]\n   */\n  async auth(username, password, phone, force = false) {\n    let cookies\n    if (this.settings.readSession && !force) {\n      cookies = await getSession(this.settings.sessionFile)\n    }\n    if (!cookies) {\n      const host = getHost(this.settings.sandbox)\n      const authenticator = new Authenticator({\n        username,\n        password,\n        host,\n        phone,\n        userAgent: USER_AGENT,\n      })\n\n      await authenticator.obtainSession()\n      cookies = await authenticator.signIn()\n      await this._saveSession(cookies)\n    }\n\n    const apHost = getApHost(this.settings.sandbox)\n    this._app = new App({\n      cookies,\n      password,\n      host: apHost,\n      userAgent: USER_AGENT,\n    })\n    const works = await this._wrap(this._app.test())\n    if (!works && force) {\n      throw new Error('Could not authenticate.')\n    }\n    if (!works) {\n      await this.auth(username, password, phone, true)\n    }\n  }\n  async _saveSession(cookies) {\n    if (this.settings.readSession) {\n      await saveSession(cookies, this.settings.sessionFile)\n    }\n  }\n  /**\n   * Execute a method from the app and update cookies file if needed (to extend session).\n   * @private\n   */\n  async _wrap(p) {\n    const c = getAllowedCookies(this._app.session.cookies)\n    const res = await p\n    const c2 = getAllowedCookies(this._app.session.cookies)\n    try {\n      deepEqual(c, c2)\n    } catch ({ message }) {\n      LOG(message)\n      await this._saveSession(c2)\n    }\n    return res\n  }\n  /**\n   * Add an IP to white-listed IPs.\n   * @param {string} ip\n   * @param {string} [name]\n   */\n  async whitelistIP(ip, name) {\n    await this._wrap(this._app.whitelistIP(ip, name))\n  }\n  /**\n   * Get the list of all whitelisted IP addresses from https://ap.www.namecheap.com/settings/tools/apiaccess/whitelisted-ips.\n   */\n  async getWhitelistedIPList() {\n    const res = /** @type {!Array<!_namecheap.WhitelistedIP>} */ (await this._wrap(this._app.getWhitelistedIPList()))\n    return res\n  }\n  /**\n   * Remove the IP from the white-listed IPs by its name.\n   * @param {string} name\n   */\n  async removeWhitelistedIP(name) {\n    await this._wrap(this._app.removeWhitelistedIP(name))\n  }\n}\n\nconst getAllowedCookies = (cookies) => {\n  const keys = ['x-ncpl-auth', '.ncauth', 'SessionId', 'U']\n  return Object.keys(cookies).reduce((acc, k) => {\n    if (keys.includes(k)) return { ...acc, [k]: cookies[k] }\n    return acc\n  }, {})\n}\n\nconst getSession = async (path) => {\n  try {\n    const cookies = await bosom(path)\n    return cookies\n  } catch (err) {\n    return null\n  }\n}\nconst saveSession = async (cookies, path) => {\n  await bosom(path, cookies)\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Options} _namecheap.Options\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').WhitelistedIP} _namecheap.WhitelistedIP\n */","import rqt from 'rqt'\n\n/**\n * @param {string} USER_AGENT\n * @param {boolean=} sandbox\n */\nconst coupon = async (USER_AGENT, sandbox = false) => {\n  const h = sandbox ? 'sandbox.' : ''\n  const s = await rqt(`https://www.${h}namecheap.com/promos/coupons/`, {\n    headers: {\n      'User-Agent': USER_AGENT,\n    },\n  })\n  const res = /<small>Coupon Code<\\/small>\\s+.+couponCode\">(.+)<\\/span>/.exec(s)\n  if (!res) throw new Error('Could not find the coupon code.')\n  return res[1]\n}\n\nexport default coupon","import '../types/externs'\nimport NamecheapWeb from './'\n\nmodule.exports = NamecheapWeb"],
"names":["debuglog","util","createReadStream","createWriteStream","fs","Writable","stream","getStackSegment","stack","from","oneLine","splitStack","split","undefined","item","length","slice","items","join","getEntryStack","transparent","stackSegment","getCallerFromArguments","args","caller","homedir","os","extractPathRegex","pathRegex","homeDir","cleanStack","pretty","ignoredModules","re","RegExp","source","replace","j","filter","x","pathMatches","match","includes","test","trim","map","m","p1","makeCallback","entryCaller","entryStack","shadow","cb","messageOrError","arguments","errorStack","Error","calleeStackLine","message","isError","stackMessage","stackHeading","Object","assign","e","properties","erotic","pipeError","streamA","streamB","once","emit","Catchment","options","binary","rs","opts","er","proxyError","wrap","_","_caughtData","_promise","Promise","r","on","d","Buffer","concat","indexOf","pipe","chunk","encoding","callback","push","collect","readable","promise","res","read","path","write","data","ws","err","end","LOG","writeJSON","config","replacer","space","json","JSON","stringify","bosom","parse","request","https","http","url","createGunzip","zlib","isMessageGzip","contentEncoding","headers","makeRequest","requestOptions","justHeaders","req","body","rawLength","byteLength","then","statusMessage","statusCode","destroy","isGzip","error","abort","parsedBody","getFormData","form","keys","reduce","urlEncodedDataPairs","acc","key","v","p","encodeURIComponent","exec","contentType","startsWith","response","ua","version","name","require","aqt","address","type","outgoingHeaders","compress","method","timeout","hostname","protocol","port","_d","rqt","_request","location","Cookie","getFullUrl","host","loc","cookies","updateCookies","Session","getCookieHeader","s","val","newCookies","extractCookies","current","setCookie","value","c","ip","ok","assert","createInterface","readline","createTimeout","desc","setTimeout","makeTimeoutPromise","to","reject","createPromiseWithTimeout","toPromise","race","clearTimeout","ask","question","password","output","process","stdout","input","stdin","rest","rl","o","repeat","bind","promto","tryPromise","close","askQuestions","questions","accRes","text","endsWith","gotDefaultValue","defaultValue","getDefault","dv","gtd","answer","a","validation","postProcess","askSingle","mismatch","string","capturedGroup","i","start","colors","color","cc","extractFormState","mapPhoneOptions","g","n","co","gr","getColorOptions","title","askForNumber","phone","some","last","find","deepEqual","o1","o2","val2","k","s2","k2","r2","obtainSession","SessionKey","session","jqt","u","secondAuth","Authenticator","SECOND_AUTH_URL","_phone","body2","submitCode","signIn","LOGIN_URL","_username","_password","validationErrorRe","b","code","location2","console","log","username","userAgent","_session","checkError","__isError","Message","Success","t","Errors","__type","getApiUrl","page","requestToken","App","WHITELISTED_UPS","token","whitelistIP","ipAddress","toLocaleString","Date","App$$module$src$lib$App.getApiUrl","apiUrl","removeWhitelistedIP","getWhitelistedIPList","IpAddresses","date","whois","domain","USER_AGENT","reRes","params","res2","re2Res","re2","w","coupon","sandbox","h","getHost","S","getApHost","_saveSession","settings","readSession","saveSession","sessionFile","_wrap","getAllowedCookies","_app","c2","NamecheapWeb","getIp","force","getSession","authenticator","apHost","works","auth","module","exports"]
}
